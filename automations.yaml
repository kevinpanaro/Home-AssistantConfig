- alias: HDMI Switch
  trigger:
    platform: state
    entity_id: input_select.hdmi_switch
  action:
    service: mqtt.publish
    data:
      topic: "homeassistant/switch/hdmi"
      payload_template: "{{ states('input_select.hdmi_switch') }}"

- alias: Night Light ON
  trigger:
    platform: time
    at: '00:00:00'
  action:
    service: light.turn_on
    entity_id:
      - light.under_bed_light
    data:
      rgb_color: [15, 0, 15]
      transition: 5

- alias: Night Light OFF
  trigger:
    platform: sun
    event: sunrise
  action:
    service: light.turn_off
    entity_id: 
      - light.under_bed_light

- alias: Turn off all lights
  trigger:
    platform: time
    at: '23:59:55'
  action:
    service: light.turn_off
    entity_id:
      - group.all_lights
    data:
      transition: 30 

- alias: Sunset Desk Light
  trigger:
    platform: sun
    event: sunset
  action: 
    service: light.turn_on
    entity_id:
      - light.desk_lamp

- alias: 'Auto Renew SSL Cert'
  trigger:
    platform: numeric_state
    entity_id: sensor.ssl_cert_expiry
    below: 29
  action:
    service: shell_command.renew_ssl

- alias: 'SSL expiry notification'
  trigger:
    platform: numeric_state
    entity_id: sensor.ssl_cert_expiry
    below: 21
  action:
    service: notify.ios_kevin_panaros_iphone
    data:
      message: 'Warning - SSL certificate expires in 21 days and has not been automatically renewed'

- alias: 'Set Spotify Volume'
  trigger:
    platform: state
    entity_id: input_number.spotify_volume
  action:
    service: media_player.volume_set
    data_template:
      entity_id: media_player.spotify
      volume_level: '{{ states.input_number.spotify_volume.state }}'
